---
layout: single
title:  "플러시와 준영속"
---

# 플러시

영속성 컨택스트의 변경내용을 DB에 동기화 한다!!

- **영속성 컨택스트의 1차 캐시를 지우지 않는다!**

## 사용방법 3가지

1. em.flush()
    
    엔티티매니져의 플러시 메소드 호출!
    
2. 트랜젝션 커밋
3. JPQL 쿼리 실행

# 준영속 상태

영속 상태의 엔티티가 영속성 컨택스트에서 분리 된 상태이다. (detached)

영속성컨택스트가 원래 관리 해줬지만 준영속 상태가 되면 관리 받지 못한다…

1차 캐시 에서도 지워지기 때문에 

## 사용방법 3가지

1. em.detach(entity)
    
    특정 엔티티만 준영속 상태로 전환
    
2. em.clear()
    
    **영속성 컨택스트를 완전히 초기화**
    
3. em.close()
    
    영속성 컨택스트를 종료